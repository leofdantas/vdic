% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/05_multimodal.R
\name{analyze_text}
\alias{analyze_text}
\title{Analyze Text with a Vec-tionary}
\usage{
analyze_text(
  vect,
  text,
  model_name = "google/siglip-so400m-patch14-384",
  batch_size = 64L
)
}
\arguments{
\item{vect}{A Vec-tionary object built with [vectionary_builder()].}

\item{text}{Character vector of texts to analyze. Each element is treated as
one document.}

\item{model_name}{SigLIP model ID on Hugging Face Hub (default:
\code{"google/siglip-so400m-patch14-384"}). Only used for multimodal
vectionaries. Must match the model used when building the vectionary.}

\item{batch_size}{Integer. Number of texts to encode per batch (default:
64L). Only used for multimodal vectionaries.}
}
\value{
Data frame with one row per text and one column per dimension, plus
  a \code{text} column containing the original input strings.
}
\description{
Scores a character vector of texts on the semantic dimensions of a
vec-tionary. Returns a data frame with one row per text and one column per
dimension — the same structure as [analyze_image()].

Two analysis paths are supported depending on the vec-tionary's modality:

\describe{
  \item{Text vectionary (\code{modality = "text"} or legacy)}{
    Each text is tokenized, tokens are looked up in the pre-computed
    \code{word_projections} table, and the mean projection score is returned.
    This path requires no Python and works offline.}
  \item{Multi-modal vectionary (\code{modality = "multimodal"})}{
    Each text is encoded to a 1152-dimensional SigLIP vector via the text
    encoder and projected onto the vectionary axes — the same axes used by
    [analyze_image()]. This enables direct comparison of text and image
    scores on the same scale. Requires Python with \code{transformers},
    \code{torch}, \code{Pillow}, and \code{sentencepiece} via
    \code{reticulate}.}
}

For richer text analysis (multiple metrics, topic classification) use
[vectionary_analyze()] with a text vectionary.
}
\examples{
\dontrun{
# ---- Text vectionary (no Python needed) ----
vect <- readRDS("my_vectionary.rds")
result <- analyze_text(vect, c("We must protect the vulnerable",
                               "Violence erupted in the streets"))
result
#>                             text  care  harm
#> 1  We must protect the vulnerab... 0.623 0.112
#> 2  Violence erupted in the stre... 0.089 0.741

# ---- Multi-modal vectionary (Python required) ----
mm_vect <- vectionary_builder(dictionary, embeddings = "siglip",
                              modality = "multimodal")
result <- analyze_text(mm_vect, c("a caring nurse", "an act of violence"))
}

}
\seealso{
[vectionary_analyze()] for multi-metric text analysis with topic
  classification; [analyze_image()] for image analysis.
}
